<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Ajax Builder Test</title>
        <!-- import jasmine -->
        <link rel="stylesheet" type="text/css" href="../bower_components/jasmine-core/lib/jasmine-core/jasmine.css">
        <script type="text/javascript" src="../bower_components/jasmine-core/lib/jasmine-core/jasmine.js"></script>
        <script type="text/javascript" src="../bower_components/jasmine-core/lib/jasmine-core/jasmine-html.js"></script>
        <script type="text/javascript" src="../bower_components/jasmine-core/lib/jasmine-core/boot.js"></script>

        <!-- import angularjs -->
        <script type="text/javascript" src="../bower_components/angular/angular.min.js"></script>
        <script type="text/javascript" src="../bower_components/angular-mocks/angular-mocks.js"></script>

        <!-- import script -->
        <script type="text/javascript" src="../src/ngrest.js"></script>

        <!-- import specs  -->
        <script type="text/javascript" src="../tests/ngrest-spec.js"></script>
        <script type="text/javascript" src="../tests/api-spec.js"></script>
        <script type="text/javascript" src="../tests/endpoint-spec.js"></script>

        <script type="text/javascript">

        var app = angular.module('ngRestTest', ['ngRest']);

        app.config(function($apiProvider) {
            $apiProvider.setBaseURI('http://localhost:8080/');
        });

        app.controller('endpointRequestTest', function($scope, $endpoint) {

            $endpoint
                .setURI('dummies/blog.json')
                .dispatch({
                    get: {
                        params: {
                            query: String
                        }
                    },
                    post: {
                        data: {
                            title: String,
                            content: String,
                            author: String
                        }
                    }
                });

            $endpoint.$get()

                .success(function(response, status, headers, config, statusText) {
                    console.log(response, status, headers, config, statusText)
                })

                .error(function(msg, code) {
                    console.log(msg, code)
                });
        });

        </script>
    </head>
    <body ng-app="ngRestTest">
        <div ng-controller="endpointRequestTest"></div>
    </body>
</html>